@model PromptQuest.Models.Player

@{
	ViewData["Title"] = "Character Creation";
	bool isUserLoggedIn = User.Identity?.IsAuthenticated == true;
	// Get User's profile image
	string userProfileImage = User.FindFirst("GoogleProfileImageUrl")?.Value;
	// Something went wrong, show the default image.
	if(userProfileImage == null) {
		userProfileImage = "";
	}
}

<header>
	<!-- Login Display -->
	<div class="login-display pq-element">
		@if(isUserLoggedIn) {
			<img src="@userProfileImage" alt="User Profile Image" />
			<a class="pq-link" href="/Account/SignOutFromGoogleLogin">Logout</a>
		}
		else {
			<a class="pq-link" href="/Account/GoogleLogin">Login with Google</a>
		}
	</div>
</header>
<div class="container-fluid BackgroundColorDark" style="padding:25px;">
	<div class="row justify-content-center h-100">
		<div class="col-6 text-center" style="border: 2px solid white; border-radius: 150px; padding:45px;">
			<img src="~/images/PlaceholderPlayerPortrait.png" alt="Default Player Portrait" style="border: 2px solid white; margin-bottom: 35px; width: 392px; height:392px;">
			<div class="row justify-content-center">
				<form asp-controller="Game" asp-action="CreateCharacter" method="post">
					<div class="form-group row">
						<div class="col d-flex justify-content-center">
							<input type="text" minlength="1" maxlength="25" class="form-control" id="name" name="name" style="color: white; margin-bottom:22px; background-color:transparent; border: 2px solid white; width:392px; height:52px;" placeholder="Enter Character's Name"/>
						</div>
					</div>
					<div class="row" style="margin-bottom:22px;">
						<span asp-validation-for="Name" class="text-danger"></span>
					</div>
					<div class="form-group row">
						<div class="col">
							<button type="submit" id="createCharacterButton" class="MenuButton d-inline-block" style="background-color:darkgreen; padding:5px; width: 277px; height:63px;">Start Adventure</button>
						</div>
					</div>
				</form>
			</div>
		</div>
	</div>
</div>